<div class="search__bar">
  <form
    [formGroup]="form"
    (submit)="filterChats()"
    class="form"
  >
    <mat-form-field class="search">
      <div
        class="input__icon"
        matPrefix
      >
        <mat-icon>search</mat-icon>
      </div>

      <input
        matInput
        name="nickname"
        placeholder="Search"
        formControlName="nameToFilter"
      >
    </mat-form-field>
  </form>
</div>
<div class="list__wrapper">
  @if (contacts$ | async; as displayedChats) {
    <cdk-virtual-scroll-viewport
    itemSize="50"
    class="list"
  >
    <div
      *cdkVirtualFor="let chat of displayedChats"
      class="chat__item"
    >
      <ds-contact-item
        dsActiveLink
        [routerLink]="pathToMessages+chat.id"
        [name]="chat.name"
        [message]="chat.message"
        [unreadMessages]="chat.unreadMessages"
        [isOnline]="chat.isActive"
        [time]="chat.createdAt"
        (click)="goToChat(chat.id)"
      />
    </div>
  </cdk-virtual-scroll-viewport>
  }
  
</div>
